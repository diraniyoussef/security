package com.example.security;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ProgressBar;import android.widget.Toast;import androidx.appcompat.app.AppCompatActivity;import com.android.volley.Request;import com.android.volley.RequestQueue;import com.android.volley.Response;import com.android.volley.VolleyError;import com.android.volley.toolbox.StringRequest;import com.android.volley.toolbox.Volley;import org.json.JSONObject;import java.util.HashMap;import java.util.Map;public class Login extends AppCompatActivity {    static String URL_login = "https://localhost/securityserver/login.php";    EditText fullName_editText;    EditText phone_editText;    Button loginButton;    EditText password_editText;    ProgressBar loadingProgressBar;    String pn, fn;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_login);        fullName_editText = findViewById(R.id.full_name_editText);        phone_editText = findViewById(R.id.phone_editText);        loadingProgressBar = findViewById(R.id.loading_progressBar);        password_editText = findViewById(R.id.password_editText);        loginButton = findViewById(R.id.login_button);        loginButton.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                login();                Intent i = new Intent(Login.this, Emergency.class);                fn = fullName_editText.getText().toString();                pn = phone_editText.getText().toString();                i.putExtra("name", fn);                i.putExtra("phone", pn);                startActivity(i);                finish();            }        });    }    private void login() {        loadingProgressBar.setVisibility(View.VISIBLE);        loginButton.setVisibility(View.GONE);        final String name = this.fullName_editText.getText().toString().trim();        final String phone = this.phone_editText.getText().toString().trim();        final String password = this.password_editText.getText().toString().trim();        StringRequest stringRequest = new StringRequest(Request.Method.POST, URL_login,                new Response.Listener<String>() {                    @Override                    public void onResponse(String response) {                        try {                            JSONObject jsonObject = new JSONObject(response);                            String success = jsonObject.getString("success");                            if (success.equals("1")) {                                Toast.makeText(Login.this, "login success", Toast.LENGTH_SHORT).show();                            }                        } catch (Exception e) {                            e.printStackTrace();                            Toast.makeText(Login.this, "login failed" + e.toString(), Toast.LENGTH_SHORT).show();                            loadingProgressBar.setVisibility(View.GONE);                            loginButton.setVisibility(View.VISIBLE);                        }                    }                },                new Response.ErrorListener() {                    @Override                    public void onErrorResponse(VolleyError error) {                        Toast.makeText(Login.this, "login failed" + error.toString(), Toast.LENGTH_SHORT).show();                        loadingProgressBar.setVisibility(View.GONE);                        loginButton.setVisibility(View.VISIBLE);                    }                }) {            @Override            protected Map<String, String> getParams() { //throws AuthFailureError                Map<String, String> params = new HashMap<>();                params.put("username", fullName_editText.getText().toString());                params.put("phone", phone);                params.put("password", password);                return params;            }        };        RequestQueue requestQueue = Volley.newRequestQueue(this);        requestQueue.add(stringRequest);    }}